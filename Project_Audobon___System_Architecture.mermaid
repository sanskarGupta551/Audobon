flowchart TB
    User[User Interface] --> Gateway[API Gateway]
    Gateway --> Input[Input Processor]
    
    subgraph CoreServices[Core Processing Services]
        Input --> StoryEngine[Story Processing Engine]
        Input --> VisualEngine[Visual Generation Engine]
        
        subgraph StoryProcessing[Story Processing]
            StoryEngine --> TextModule[Text Understanding]
            StoryEngine --> StoryModule[Story Enhancement]
            TextModule --> StoryModule
        end
        
        subgraph VisualProcessing[Visual Processing]
            VisualEngine --> ImageCore[Image Generator]
            VisualEngine --> StyleSystem[Style Controller]
            ImageCore --> StyleSystem
        end
        
        StoryEngine --> VisualEngine
        VisualEngine --> PDFEngine[PDF Assembly Engine]
    end
    
    subgraph Support[Supporting Systems]
        Registry[Model Registry]
        Resource[Resource Manager]
        QA[Quality Assurance]
    end
    
    subgraph Storage[Storage Systems]
        Models[(Model Storage)]
        Assets[(Asset Cache)]
        Output[(Output Storage)]
    end
    
    subgraph Monitor[Monitoring Systems]
        Performance[Performance Monitor]
        Resources[Resource Monitor]
        Quality[Quality Monitor]
    end
    
    CoreServices --> Support
    Support --> Storage
    CoreServices --> Monitor
    PDFEngine --> Output